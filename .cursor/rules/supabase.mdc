---
description: 
globs: 
alwaysApply: false
---
# Supabase Setup

- Database is hosted in Supabase Cloud (not local dev)
- Using Postgres 15
- Tables:
  - `rates`: id (uuid), dial_code (string), rate (numeric), carrier_id (uuid)
  - `carriers`: id (uuid), name (text)
  - `users`: id (uuid), email (text), created_at

# Edge Function Conventions

- All functions live in `supabase/functions/`
- Use Deno runtime
- Remote functions deployed with `supabase functions deploy <name> --use-api`
- Use `std/http/server.ts` and Supabase client
- JWT is passed in Authorization header and parsed with `createClient`
- Response format: `{ data, error }` JSON

# Example

```ts
const supabase = createClient(
  Deno.env.get("SUPABASE_URL")!,
  Deno.env.get("SUPABASE_SERVICE_ROLE_KEY")!
);

const { data, error } = await supabase.from("rates").select("*");
